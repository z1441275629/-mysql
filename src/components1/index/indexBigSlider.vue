<template>
	<div class="swiper-container0">
		<div class="swiper-wrapper">
			<div class="swiper-slide">
				<index-slider></index-slider>
				<index-slider-small></index-slider-small>
				<index-new-person></index-new-person>
				<index-le-feng-qiang></index-le-feng-qiang>
				<index-huodong></index-huodong>
				<index-brand></index-brand>
				<index-haodian></index-haodian>
				<index-re-mai></index-re-mai>
			</div>
			<div class="swiper-slide" >
				 <vue-lazy-component>
				 <!-- @init="init"
				  @beforeInit="beforeInit"-->
				 
				  <!--需要懒加载的组件-->
				  <index-slider/>
				  <skeleton slot="skeleton"/>
				  <index-brand/>
				  <skeleton slot="skeleton"/>
				  <index-haodian/>
				  <!--在加载之前展示的骨架组件-->
				  <!--<index-slider slot="skeleton"/>
				<index-brand slot="skeleton"></index-brand>-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
				
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<!--<lazy-component>
				    <index-slider></index-slider>
					<index-slider-small></index-slider-small>
					<index-new-person></index-new-person>
					<index-le-feng-qiang></index-le-feng-qiang>
					<index-huodong></index-huodong>
					<index-brand></index-brand>
					<index-haodian></index-haodian>
					<index-re-mai></index-re-mai>
				</lazy-component>-->
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<!--<lazy-component>
				    <index-slider></index-slider>
					<index-slider-small></index-slider-small>
					<index-new-person></index-new-person>
					<index-le-feng-qiang></index-le-feng-qiang>
					<index-huodong></index-huodong>
					<index-brand></index-brand>
					<index-haodian></index-haodian>
					<index-re-mai></index-re-mai>
				</lazy-component>-->
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
			<div class="swiper-slide">
				<vue-lazy-component>
				  <!--需要懒加载的组件-->
				  <index-huodong/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-brand/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				  <!--需要懒加载的组件-->
				  <index-new-person/>
				  <!--在加载之前展示的骨架组件-->
				  <skeleton slot="skeleton"/>
				</vue-lazy-component>
			</div>
		</div>
	</div>
</template>

<lazy-component>
  	
</lazy-component>
<script>
	import indexSlider from "./indexSlider.vue"
	import indexSliderSmall from "./indexSliderSmall.vue"
	import indexNewPerson from "./indexNewPerson.vue"
	import indexLeFengQiang from "./indexLeFengQiang.vue"
	import indexHuodong from "./indexHuodong.vue"
	import indexBrand from "./indexBrand.vue"
	import indexHaodian from "./indexHaodian.vue"
	import indexReMai from "./indexReMai.vue"
	
	import skeleton from "./skeleton.vue"

	export default {
		data(){
			return {
				
			}
		},
		components:{
			indexSlider,
			indexSliderSmall,
			indexNewPerson,
			indexLeFengQiang,
			indexHuodong,
			indexBrand,
			indexHaodian,
			indexReMai,
			
			skeleton
		},
		mounted: function() {
//			var mySwiper1 = new Swiper ('.swiper-container1', {
//			    freeMode: true,
//			    freeModeMomentumRatio: 0.5,
//			    slidesPerView: 'auto',
//			    resistanceRatio : 0,
//			});
//			
//			var mySwiper0 = new Swiper('.swiper-container0', {
//				autoHeight: true,
//				//			resistanceRatio : 0,
//				onSlideChangeStart: function(swiper) {
//					//alert(swiper.activeIndex) //切换结束时，告诉我现在是第几个slide
//					mySwiper1.slideTo(swiper.activeIndex, 1000);
//					//mySwiper1.activeIndex = swiper.activeIndex;
//					$(".swiper-container1 .swiper-slide").removeClass("active");
//					$(".swiper-container1 .swiper-slide").eq(swiper.activeIndex).addClass("active");
//
//					$(".swiper-container0>.swiper-wrapper").css('height', '100%');
//					$(".swiper-container0>.swiper-slide").css('height', '100%');
//					var H = $(".swiper-container0 .swiper-wrapper").children().eq(swiper.activeIndex)["0"].clientHeight;
//					$(".swiper-container0>.swiper-slide").css('height', H + 'px');
//					$(".swiper-container0>.swiper-wrapper").css('height', H + 'px');
//				}
//			});
			
			

			/*onTouchMove: function(swiper){		//手动滑动中触发
				var _viewHeight = document.getElementsByClassName('swiper-wrapper')[0].offsetHeight;
	            var _contentHeight = document.getElementsByClassName('swiper-slide')[0].offsetHeight;
	            
	            
	            if(mySwiper0.translate < 50 && mySwiper0.translate > 0) {
					$(".init-loading").html('下拉刷新...').show();
				}else if(mySwiper0.translate > 50 ){
					$(".init-loading").html('释放刷新...').show();
				}
			},
			onTouchEnd: function(swiper) {
				var _viewHeight = document.getElementsByClassName('swiper-wrapper')[0].offsetHeight;
	            var _contentHeight = document.getElementsByClassName('swiper-slide')[0].offsetHeight;
	             // 上拉加载
	            if(mySwiper0.translate <= _viewHeight - _contentHeight - 50 && mySwiper0.translate < 0) {
	                // console.log("已经到达底部！");
	               $(".loadtip").html('没有更多啦！');
//	                if(loadFlag){
//	                	$(".loadtip").html('正在加载...');
//	                }else{
//	                	$(".loadtip").html('没有更多啦！');
//	                }
	                
	                setTimeout(function() {
	                    //for(var i = 0; i <5; i++) {
	                    //	oi++;
	                    //    $(".list-group").eq(mySwiper2.activeIndex).append('<li class="list-group-item">我是加载出来的'+oi+'...</li>');
	                    //}
	                     $(".loadtip").html('上拉加载更多...');
	                    mySwiper0.update(); // 重新计算高度;
	                }, 800);
	            }
	            
	            // 下拉刷新
	            if(mySwiper0.translate >= 50) {
	                $(".init-loading").html('正在刷新...').show();
	                $(".loadtip").html('上拉加载更多');
	                //loadFlag = true;
	                
	                setTimeout(function() {
	                    $(".refreshtip").show(0);
	                    $(".init-loading").html('刷新成功！');
	                    setTimeout(function(){
	                    	$(".init-loading").html('').hide();
	                    },800);
	                    $(".loadtip").show(0);
	                    
	                    //刷新操作
	                    mySwiper0.update(); // 重新计算高度;
	                }, 1000);
	            }else if(mySwiper0.translate >= 0 && mySwiper0.translate < 50){
	            	$(".init-loading").html('').hide();
	            }
	            return false;
			}*/
		
			
		}
	}
</script>

<style scoped="scoped">
	.swiper-container0 {
		width: 100%;
		overflow: hidden;
		margin-top: 0.9rem;
	}
	
	.swiper-container0 .swiper-wrapper {
		width: 100%;
	}
	
	.swiper-container0 .swiper-wrapper .swiper-slide {
		height: auto;
		width: 100%;
	}
	
	.swiper-container0 .swiper-wrapper .swiper-slide-active {
		height: auto
	}
</style>